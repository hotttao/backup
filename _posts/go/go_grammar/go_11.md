---
title: 11 go 包和工具
date: 2019-01-11
categories:
    - Go
tags:
    - go语言入门
---

包和工具
<!-- more -->

Go语言工具箱的功能

```Go
package package_name

import (
	"crypto/rand"
	mrand "math/rand" // alternative name mrand avoids conflict

	import _ "image/png" // register PNG decoder
)
```

包的命名和导入语法
包导入过程，会执行特定的钩子函数


每个包还通过控制包内名字的可见性和是否导出来实现封装特性。通过限制
包内变量的可见性，还可以强制用户通过某些特定函数来访问和更新内部变量，这样可以保证内部
变量的一致性和并发时的互斥约束


当我们修改了一个源文件，我们必须重新编译该源文件对应的包和所有依赖该包的其他包。即使是
从头构建，Go语言编译器的编译速度也明显快于其它编译语言。Go语言的闪电般的编译速度主要
得益于三个语言特性。第一点，所有导入的包必须在每个文件的开头显式声明，这样的话编译器就
没有必要读取和分析整个源文件来判断包的依赖关系。第二点，禁止包的环状依赖，因为没有循环
依赖，包的依赖关系形成一个有向无环图，每个包可以被独立编译，而且很可能是被并发编译。第
三点，编译后包的目标文件不仅仅记录包本身的导出信息，目标文件同时还记录了包的依赖关系。
因此，在编译一个包的时候，编译器只需要读取每个直接导入包的目标文件，而不需要遍历所有依
赖的的文件（译注：很多都是重复的间接依赖


Go语言的规范并没有指明包的导入路径字符串的具体含义，导入路
径的具体含义是由构建工具来解释的


Go语言的工具箱，为了达到零配置的设计目标，Go语言的工具箱很多地方都依赖各种约定。对于大多数的Go语言用户，只需要配置一个名叫GOPATH的环境变量，用来指定当前工作目录即可。