---
title: 2 MYSQL 常用服务端参数
date: 2019-10-07
categories:
    - 存储
tags:
    - 马哥 MySQL 运维
---

mariadb 常用服务端参数

<!-- more -->

## 1. mariadb 特性参数
### 1.1 SQL_MODE
SQL_MODE
- 作用: 设置 sql 模式，sql 模式会影响值溢出等行为的处理方式

### 1.2 QUERY_CACHE_TYPE
QUERY_CACHE_TYPE
- 作用: 是否启用查询缓存
- 可选值:
  - OFF: 不启用，显示指定 SQL_CACHE 也不会缓存
  - ON: 启用，可以使用 SQL_NO_CACHE 显示指定不缓存查询结果
  - DEMAND: 按需启用，即可以使用 SQL_CACHE 显示指定缓存查询结果


### 1.3 事务隔离级别设置
TX_ISOLATION
- 作用: 设置事务的隔离级别
- 可选值:
  - REPEATABLE-READ: 可重复度
  - READ-UNCOMMITTED: 读未提交
  - READ-COMMITTED: 读提交
  - SERIALIZABLE: 串行化

事务日志配置:
- innodb_log_files_in_group: 一个事务日志组中包含几个文件
- innodb_log_group_home_dir：事务日志所在的目录
- innodb_log_file_size：事务日志的大小

```bash
select @@session.tx_isolation;

show global variables like "innodb%log%";
+----------------------------------+-----------+
| Variable_name                    | Value     |
+----------------------------------+-----------+
| innodb_encrypt_log               | OFF       |
| innodb_flush_log_at_timeout      | 1         |
| innodb_flush_log_at_trx_commit   | 1         |
| innodb_locks_unsafe_for_binlog   | OFF       |
| innodb_log_buffer_size           | 16777216  |
| innodb_log_checksums             | ON        |
| innodb_log_compressed_pages      | ON        |
| innodb_log_file_size             | 50331648  |
| innodb_log_files_in_group        | 2         |
| innodb_log_group_home_dir        | ./        |
| innodb_log_optimize_ddl          | ON        |
| innodb_log_write_ahead_size      | 8192      |
| innodb_max_undo_log_size         | 10485760  |
| innodb_online_alter_log_max_size | 134217728 |
| innodb_scrub_log                 | OFF       |
| innodb_scrub_log_speed           | 256       |
| innodb_undo_log_truncate         | OFF       |
| innodb_undo_logs                 | 128       |
+----------------------------------+-----------+
```


