---
title: 13. 软件架构设计中的常见问题
date: 2019-04-14
categories:
    - 分布式
tags:
    - 数据密集型应用
---

哪些常见的软件设计问题

<!-- more -->

## 1. 消息队列
### 1. pull 和 push 的对比


## 2. 数据库对比
### 2.1 如何对比两个数据库

## 3. RabbitMQ 与 Kafka

之所以没有选择 Kafka 是因为如下几个原因:
1. `max.poll.interval.ms` 需要预估每批数据的消费时间，否则 Kafka 会将消费者视为失败，重新再均衡

AMQP 类型的消息代理更适合如下场景:
- 消息处理的代价很高，希望在逐个消息的基础上并行处理
- 而且消息排序又不那么重要的情况下，并且需要在他们处理后返回并在此读取旧消息时 更可取

相反，基于日志的消息系统更适用于:
- 在消息吞吐量高，每个消息处理速度快
- 消息顺序有很重要
- 需要读取已经确认的旧消息